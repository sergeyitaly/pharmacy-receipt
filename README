# Update system
sudo apt update
sudo apt upgrade -y

# Install required packages
sudo apt install -y python3-pip python3-venv chromium-chromedriver

playwright install

# Create virtual environment
python3 -m venv venv
source venv/bin/activate

# Install Python dependencies
pip install selenium requests beautifulsoup4 python-dotenv schedule

sudo apt update
sudo apt install -y wget gnupg

# Download and install Google Chrome
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb

# If the above fails (if you're on ARM architecture), try:
wget https://dl.google.com/linux/direct/google-chrome-stable_current_arm64.deb

# Install Chrome
sudo apt install -y ./google-chrome-stable_current_*.deb

# Fix any dependencies
sudo apt --fix-broken install

sudo apt install firefox-geckodriver -y

# Download the correct ARM64 version
wget https://github.com/mozilla/geckodriver/releases/download/v0.34.0/geckodriver-v0.34.0-linux-aarch64.tar.gz

# If that fails, try:
curl -L -o geckodriver.tar.gz https://github.com/mozilla/geckodriver/releases/latest/download/geckodriver-v0.34.0-linux-aarch64.tar.gz

# Extract and install
tar -xzf geckodriver*.tar.gz
chmod +x geckodriver
sudo mv geckodriver /usr/local/bin/
geckodriver --version
